{"remainingRequest":"/home/dickson/PersonalProjects/britecore/britecore_test/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dickson/PersonalProjects/britecore/britecore_test/frontend/src/views/RegSignIn.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dickson/PersonalProjects/britecore/britecore_test/frontend/src/views/RegSignIn.vue","mtime":1565553589109},{"path":"/home/dickson/PersonalProjects/britecore/britecore_test/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dickson/PersonalProjects/britecore/britecore_test/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/dickson/PersonalProjects/britecore/britecore_test/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dickson/PersonalProjects/britecore/britecore_test/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { APIService } from \"../BackendApiService.js\";\nexport default {\n  name: \"RegSignIn\",\n  components: {},\n  data() {\n    return {\n      username: \"\",\n      user_id: \"\"\n    };\n  },\n  methods: {\n    Signin(e) {\n      e.preventDefault();\n      // validate that it is an email that is entered\n      let emailReg = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\n      if (this.username == \"\" || !emailReg.test(this.username)) {\n        alert(\n          \"Please Enter a valid username and make sure it is an email input\"\n        );\n      } else {\n        let api_serv = new APIService();\n        // console.log(new APIService());\n        api_serv\n          .getUser(this.username)\n          .then(res => {\n            if (res.data.code == \"010\") {\n              this.user_id = res.data.id;\n              localStorage.user_id = res.data.id;\n              this.$router.replace({ name: \"home\" });\n            }\n          })\n          .catch(err => {\n            console.log(err);\n            let create_use = new APIService();\n            create_use\n              .createUser(this.username)\n              .then(res => {\n                if (res.data.code == \"010\") {\n                  this.user_id = res.data.id;\n                  localStorage.user_id = res.data.id;\n                  this.$router.replace({ name: \"home\" });\n                }\n              })\n              .catch(err => console.log(err));\n          });\n        //this.$router.replace({ name: \"home\" });\n      }\n    }\n\n    // other JS methods here\n  }\n};\n",{"version":3,"sources":["RegSignIn.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"RegSignIn.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"app\">\n    <div class=\"login\">\n      <p>\n        Please enter a user ID (email) to use this application or to continue\n        from your last session.\n      </p>\n      <br />\n      <form @submit=\"Signin\">\n        <div class=\"form-group\">\n          <input\n            type=\"email\"\n            placeholder=\"email address\"\n            class=\"form-control\"\n            id=\"username\"\n            v-model=\"username\"\n          />\n        </div>\n        <br />\n        <div class=\"form-group\">\n          <button type=\"submit\" class=\"btn btn-primary\">\n            Contine\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { APIService } from \"../BackendApiService.js\";\nexport default {\n  name: \"RegSignIn\",\n  components: {},\n  data() {\n    return {\n      username: \"\",\n      user_id: \"\"\n    };\n  },\n  methods: {\n    Signin(e) {\n      e.preventDefault();\n      // validate that it is an email that is entered\n      let emailReg = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\n      if (this.username == \"\" || !emailReg.test(this.username)) {\n        alert(\n          \"Please Enter a valid username and make sure it is an email input\"\n        );\n      } else {\n        let api_serv = new APIService();\n        // console.log(new APIService());\n        api_serv\n          .getUser(this.username)\n          .then(res => {\n            if (res.data.code == \"010\") {\n              this.user_id = res.data.id;\n              localStorage.user_id = res.data.id;\n              this.$router.replace({ name: \"home\" });\n            }\n          })\n          .catch(err => {\n            console.log(err);\n            let create_use = new APIService();\n            create_use\n              .createUser(this.username)\n              .then(res => {\n                if (res.data.code == \"010\") {\n                  this.user_id = res.data.id;\n                  localStorage.user_id = res.data.id;\n                  this.$router.replace({ name: \"home\" });\n                }\n              })\n              .catch(err => console.log(err));\n          });\n        //this.$router.replace({ name: \"home\" });\n      }\n    }\n\n    // other JS methods here\n  }\n};\n</script>\n\n<style scoped>\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  font-family: Arial, Helvetica, sans-serif;\n  background-color: black;\n  line-height: 1.4;\n}\n.login {\n  width: 500px;\n  border: 1px solid #cccccc;\n  background-color: #ffffff;\n  margin: auto;\n  margin-top: 200px;\n  padding: 20px;\n}\n.btn {\n  width: 100px;\n  background: rgb(21, 156, 235);\n}\n.btn:hover {\n  color: rgb(21, 156, 235);\n  background: #ffffff;\n}\n</style>\n"]}]}